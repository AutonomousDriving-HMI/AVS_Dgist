{"version":3,"sources":["../../../src/shared/theme.js"],"names":["React","LIGHT_THEME","DARK_THEME","ThemeContext","createContext","createTheme","themeCache","Map","ThemeProvider","theme","children","resolvedTheme","get","set","evaluateStyle","userStyle","props","withTheme","Component","ThemedComponent","render","_theme","propTypes","defaultProps","base","extends","__reset__","font","cursor","pointerEvents","background","fontFamily","fontSize","fontWeight","lineHeight","color","textColorPrimary","textAlign"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,WAAR,EAAqBC,UAArB,QAAsC,UAAtC;AAEA,MAAMC,YAAY,GAAGH,KAAK,CAACI,aAAN,CAAoBC,WAAW,CAAC,EAAD,CAA/B,CAArB;AACA,MAAMC,UAAU,GAAG,IAAIC,GAAJ,EAAnB;AAEA,OAAO,SAASC,aAAT,OAA0C;AAAA,MAAlBC,KAAkB,QAAlBA,KAAkB;AAAA,MAAXC,QAAW,QAAXA,QAAW;AAC/C,MAAIC,aAAa,GAAGL,UAAU,CAACM,GAAX,CAAeH,KAAf,CAApB;;AACA,MAAI,CAACE,aAAL,EAAoB;AAClBA,IAAAA,aAAa,GAAGN,WAAW,CAACI,KAAD,CAA3B;AACAH,IAAAA,UAAU,CAACO,GAAX,CAAeJ,KAAf,EAAsBE,aAAtB;AACD;;AAED,SAAO,oBAAC,YAAD,CAAc,QAAd;AAAuB,IAAA,KAAK,EAAEA;AAA9B,KAA8CD,QAA9C,CAAP;AACD;AAED,OAAO,SAASI,aAAT,CAAuBC,SAAvB,EAAkCC,KAAlC,EAAyC;AAC9C,MAAI,CAACD,SAAL,EAAgB;AACd,WAAO,IAAP;AACD;;AACD,MAAI,OAAOA,SAAP,KAAqB,UAAzB,EAAqC;AACnC,WAAOA,SAAS,CAACC,KAAD,CAAhB;AACD;;AACD,SAAOD,SAAP;AACD;AAED,OAAO,SAASE,SAAT,CAAmBC,SAAnB,EAA8B;AACnC,QAAMC,eAAN,SAA8BnB,KAAK,CAACkB,SAApC,CAA8C;AAC5CE,IAAAA,MAAM,GAAG;AACP,aACE,oBAAC,YAAD,CAAc,QAAd,QACGC,MAAM,IAAI,oBAAC,SAAD,eAAe,KAAKL,KAApB;AAA2B,QAAA,KAAK,EAAEK;AAAlC,SADb,CADF;AAKD;;AAP2C;;AAU9CF,EAAAA,eAAe,CAACG,SAAhB,GAA4BJ,SAAS,CAACI,SAAtC;AACAH,EAAAA,eAAe,CAACI,YAAhB,GAA+BL,SAAS,CAACK,YAAzC;AAEA,SAAOJ,eAAP;AACD;;AAED,SAASd,WAAT,CAAqBI,KAArB,EAA4B;AAC1B,MAAIe,IAAI,GAAG,IAAX;;AAEA,UAAQf,KAAK,CAACgB,OAAd;AACE,SAAK,MAAL;AACED,MAAAA,IAAI,GAAGtB,UAAP;AACA;;AAEF;AACEsB,MAAAA,IAAI,GAAGvB,WAAP;AACA;AAPJ;;AAUAQ,EAAAA,KAAK,qBAAOe,IAAP,EAAgBf,KAAhB,CAAL,CAb0B,CAe1B;;AACAA,EAAAA,KAAK,CAACiB,SAAN,GAAkB;AAChBC,IAAAA,IAAI,EAAE,SADU;AAEhBC,IAAAA,MAAM,EAAE,SAFQ;AAGhBC,IAAAA,aAAa,EAAE,SAHC;AAKhBC,IAAAA,UAAU,EAAErB,KAAK,CAACqB,UALF;AAMhBC,IAAAA,UAAU,EAAEtB,KAAK,CAACsB,UANF;AAOhBC,IAAAA,QAAQ,EAAEvB,KAAK,CAACuB,QAPA;AAQhBC,IAAAA,UAAU,EAAExB,KAAK,CAACwB,UARF;AAShBC,IAAAA,UAAU,EAAEzB,KAAK,CAACyB,UATF;AAUhBC,IAAAA,KAAK,EAAE1B,KAAK,CAAC2B,gBAVG;AAWhBC,IAAAA,SAAS,EAAE;AAXK,GAAlB;AAcA,SAAO5B,KAAP;AACD","sourcesContent":["import React from 'react';\nimport {LIGHT_THEME, DARK_THEME} from './themes';\n\nconst ThemeContext = React.createContext(createTheme({}));\nconst themeCache = new Map();\n\nexport function ThemeProvider({theme, children}) {\n  let resolvedTheme = themeCache.get(theme);\n  if (!resolvedTheme) {\n    resolvedTheme = createTheme(theme);\n    themeCache.set(theme, resolvedTheme);\n  }\n\n  return <ThemeContext.Provider value={resolvedTheme}>{children}</ThemeContext.Provider>;\n}\n\nexport function evaluateStyle(userStyle, props) {\n  if (!userStyle) {\n    return null;\n  }\n  if (typeof userStyle === 'function') {\n    return userStyle(props);\n  }\n  return userStyle;\n}\n\nexport function withTheme(Component) {\n  class ThemedComponent extends React.Component {\n    render() {\n      return (\n        <ThemeContext.Consumer>\n          {_theme => <Component {...this.props} theme={_theme} />}\n        </ThemeContext.Consumer>\n      );\n    }\n  }\n\n  ThemedComponent.propTypes = Component.propTypes;\n  ThemedComponent.defaultProps = Component.defaultProps;\n\n  return ThemedComponent;\n}\n\nfunction createTheme(theme) {\n  let base = null;\n\n  switch (theme.extends) {\n    case 'dark':\n      base = DARK_THEME;\n      break;\n\n    default:\n      base = LIGHT_THEME;\n      break;\n  }\n\n  theme = {...base, ...theme};\n\n  // Reset inherited styles\n  theme.__reset__ = {\n    font: 'initial',\n    cursor: 'initial',\n    pointerEvents: 'initial',\n\n    background: theme.background,\n    fontFamily: theme.fontFamily,\n    fontSize: theme.fontSize,\n    fontWeight: theme.fontWeight,\n    lineHeight: theme.lineHeight,\n    color: theme.textColorPrimary,\n    textAlign: 'start'\n  };\n\n  return theme;\n}\n"],"file":"theme.js"}