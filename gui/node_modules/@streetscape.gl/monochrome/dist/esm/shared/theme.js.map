{"version":3,"sources":["../../../src/shared/theme.js"],"names":["React","LIGHT_THEME","DARK_THEME","ThemeContext","createContext","createTheme","themeCache","Map","ThemeProvider","theme","children","resolvedTheme","get","set","evaluateStyle","userStyle","props","withTheme","Component","ThemedComponent","_theme","propTypes","defaultProps","base","extends","__reset__","font","cursor","pointerEvents","background","fontFamily","fontSize","fontWeight","lineHeight","color","textColorPrimary","textAlign"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,WAAR,EAAqBC,UAArB,QAAsC,UAAtC;AAEA,IAAMC,YAAY,GAAGH,KAAK,CAACI,aAAN,CAAoBC,WAAW,CAAC,EAAD,CAA/B,CAArB;AACA,IAAMC,UAAU,GAAG,IAAIC,GAAJ,EAAnB;AAEA,OAAO,SAASC,aAAT,OAA0C;AAAA,MAAlBC,KAAkB,QAAlBA,KAAkB;AAAA,MAAXC,QAAW,QAAXA,QAAW;AAC/C,MAAIC,aAAa,GAAGL,UAAU,CAACM,GAAX,CAAeH,KAAf,CAApB;;AACA,MAAI,CAACE,aAAL,EAAoB;AAClBA,IAAAA,aAAa,GAAGN,WAAW,CAACI,KAAD,CAA3B;AACAH,IAAAA,UAAU,CAACO,GAAX,CAAeJ,KAAf,EAAsBE,aAAtB;AACD;;AAED,SAAO,oBAAC,YAAD,CAAc,QAAd;AAAuB,IAAA,KAAK,EAAEA;AAA9B,KAA8CD,QAA9C,CAAP;AACD;AAED,OAAO,SAASI,aAAT,CAAuBC,SAAvB,EAAkCC,KAAlC,EAAyC;AAC9C,MAAI,CAACD,SAAL,EAAgB;AACd,WAAO,IAAP;AACD;;AACD,MAAI,OAAOA,SAAP,KAAqB,UAAzB,EAAqC;AACnC,WAAOA,SAAS,CAACC,KAAD,CAAhB;AACD;;AACD,SAAOD,SAAP;AACD;AAED,OAAO,SAASE,SAAT,CAAmBC,SAAnB,EAA8B;AAAA,MAC7BC,eAD6B;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA,+BAExB;AAAA;;AACP,eACE,oBAAC,YAAD,CAAc,QAAd,QACG,UAAAC,MAAM;AAAA,iBAAI,oBAAC,SAAD,eAAe,KAAI,CAACJ,KAApB;AAA2B,YAAA,KAAK,EAAEI;AAAlC,aAAJ;AAAA,SADT,CADF;AAKD;AARgC;;AAAA;AAAA,IACLpB,KAAK,CAACkB,SADD;;AAWnCC,EAAAA,eAAe,CAACE,SAAhB,GAA4BH,SAAS,CAACG,SAAtC;AACAF,EAAAA,eAAe,CAACG,YAAhB,GAA+BJ,SAAS,CAACI,YAAzC;AAEA,SAAOH,eAAP;AACD;;AAED,SAASd,WAAT,CAAqBI,KAArB,EAA4B;AAC1B,MAAIc,IAAI,GAAG,IAAX;;AAEA,UAAQd,KAAK,CAACe,OAAd;AACE,SAAK,MAAL;AACED,MAAAA,IAAI,GAAGrB,UAAP;AACA;;AAEF;AACEqB,MAAAA,IAAI,GAAGtB,WAAP;AACA;AAPJ;;AAUAQ,EAAAA,KAAK,qBAAOc,IAAP,EAAgBd,KAAhB,CAAL,CAb0B,CAe1B;;AACAA,EAAAA,KAAK,CAACgB,SAAN,GAAkB;AAChBC,IAAAA,IAAI,EAAE,SADU;AAEhBC,IAAAA,MAAM,EAAE,SAFQ;AAGhBC,IAAAA,aAAa,EAAE,SAHC;AAKhBC,IAAAA,UAAU,EAAEpB,KAAK,CAACoB,UALF;AAMhBC,IAAAA,UAAU,EAAErB,KAAK,CAACqB,UANF;AAOhBC,IAAAA,QAAQ,EAAEtB,KAAK,CAACsB,QAPA;AAQhBC,IAAAA,UAAU,EAAEvB,KAAK,CAACuB,UARF;AAShBC,IAAAA,UAAU,EAAExB,KAAK,CAACwB,UATF;AAUhBC,IAAAA,KAAK,EAAEzB,KAAK,CAAC0B,gBAVG;AAWhBC,IAAAA,SAAS,EAAE;AAXK,GAAlB;AAcA,SAAO3B,KAAP;AACD","sourcesContent":["import React from 'react';\nimport {LIGHT_THEME, DARK_THEME} from './themes';\n\nconst ThemeContext = React.createContext(createTheme({}));\nconst themeCache = new Map();\n\nexport function ThemeProvider({theme, children}) {\n  let resolvedTheme = themeCache.get(theme);\n  if (!resolvedTheme) {\n    resolvedTheme = createTheme(theme);\n    themeCache.set(theme, resolvedTheme);\n  }\n\n  return <ThemeContext.Provider value={resolvedTheme}>{children}</ThemeContext.Provider>;\n}\n\nexport function evaluateStyle(userStyle, props) {\n  if (!userStyle) {\n    return null;\n  }\n  if (typeof userStyle === 'function') {\n    return userStyle(props);\n  }\n  return userStyle;\n}\n\nexport function withTheme(Component) {\n  class ThemedComponent extends React.Component {\n    render() {\n      return (\n        <ThemeContext.Consumer>\n          {_theme => <Component {...this.props} theme={_theme} />}\n        </ThemeContext.Consumer>\n      );\n    }\n  }\n\n  ThemedComponent.propTypes = Component.propTypes;\n  ThemedComponent.defaultProps = Component.defaultProps;\n\n  return ThemedComponent;\n}\n\nfunction createTheme(theme) {\n  let base = null;\n\n  switch (theme.extends) {\n    case 'dark':\n      base = DARK_THEME;\n      break;\n\n    default:\n      base = LIGHT_THEME;\n      break;\n  }\n\n  theme = {...base, ...theme};\n\n  // Reset inherited styles\n  theme.__reset__ = {\n    font: 'initial',\n    cursor: 'initial',\n    pointerEvents: 'initial',\n\n    background: theme.background,\n    fontFamily: theme.fontFamily,\n    fontSize: theme.fontSize,\n    fontWeight: theme.fontWeight,\n    lineHeight: theme.lineHeight,\n    color: theme.textColorPrimary,\n    textAlign: 'start'\n  };\n\n  return theme;\n}\n"],"file":"theme.js"}