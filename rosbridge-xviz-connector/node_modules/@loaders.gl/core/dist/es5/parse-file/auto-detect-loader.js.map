{"version":3,"sources":["../../../src/parse-file/auto-detect-loader.js"],"names":["EXT_PATTERN","autoDetectLoader","url","text","loaders","extension","match","length","substr","toLowerCase","loader","name","testText"],"mappings":";;;;;;AAAA,IAAMA,WAAW,GAAG,SAApB,C,CAEA;AACA;;AACO,SAASC,gBAAT,GAAmD;AAAA,MAAzBC,GAAyB,uEAAnB,EAAmB;AAAA,MAAfC,IAAe;AAAA,MAATC,OAAS;AACxD;AACA,MAAIC,SAAS,GAAGH,GAAG,CAACI,KAAJ,CAAUN,WAAV,KAA0BE,GAA1C;;AACA,MAAIG,SAAS,CAACE,MAAV,IAAoBF,SAAS,CAAC,CAAD,CAAT,KAAiB,GAAzC,EAA8C;AAC5CA,IAAAA,SAAS,GAAGA,SAAS,CAACG,MAAV,CAAiB,CAAjB,EAAoBC,WAApB,EAAZ;AACD;;AALuD;AAAA;AAAA;;AAAA;AAOxD,yBAAqBL,OAArB,8HAA8B;AAAA,UAAnBM,MAAmB;;AAC5B,UAAIA,MAAM,CAACL,SAAP,KAAqBA,SAAzB,EAAoC;AAClC,eAAOK,MAAP;AACD;AACF;AAXuD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAaxD,0BAAqBN,OAArB,mIAA8B;AAAA,UAAnBM,OAAmB;;AAC5B,UAAIA,OAAM,CAACC,IAAP,CAAYF,WAAZ,KAA4BJ,SAAhC,EAA2C;AACzC,eAAOK,OAAP;AACD;AACF;AAjBuD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAmBxD,0BAAqBN,OAArB,mIAA8B;AAAA,UAAnBM,QAAmB;;AAC5B,UAAIA,QAAM,CAACE,QAAP,IAAmBF,QAAM,CAACE,QAAP,CAAgBT,IAAhB,CAAvB,EAA8C;AAC5C,eAAOO,QAAP;AACD;AACF;AAvBuD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAyBxD,SAAO,IAAP;AACD","sourcesContent":["const EXT_PATTERN = /[^\\.]+$/;\n\n// Find a loader that works for extension/text\n// Search the loaders array argument for a loader that matches extension or text\nexport function autoDetectLoader(url = '', text, loaders) {\n  // Get extension without\n  let extension = url.match(EXT_PATTERN) || url;\n  if (extension.length && extension[0] === '.') {\n    extension = extension.substr(1).toLowerCase();\n  }\n\n  for (const loader of loaders) {\n    if (loader.extension === extension) {\n      return loader;\n    }\n  }\n\n  for (const loader of loaders) {\n    if (loader.name.toLowerCase === extension) {\n      return loader;\n    }\n  }\n\n  for (const loader of loaders) {\n    if (loader.testText && loader.testText(text)) {\n      return loader;\n    }\n  }\n\n  return null;\n}\n"],"file":"auto-detect-loader.js"}