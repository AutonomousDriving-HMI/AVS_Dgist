{"version":3,"sources":["../../../src/playback-control/index.js"],"names":["React","PureComponent","PropTypes","AutoSizer","Slider","getTimelineTicks","formatTimeCode","scaleLinear","withTheme","WrapperComponent","ControlsContainer","PlayPauseButton","Timestamp","TicksContainer","Tick","TickLabel","MarkersContainer","MarkerComponent","BufferComponent","PlayIcon","PauseIcon","DEFAULT_PADDING","COMPACT_CONTAINER_STYLE","display","alignItems","noop","normalizePadding","padding","Number","isFinite","right","left","Object","assign","PlaybackControl","constructor","props","onPlay","onPause","newTime","currentTime","onSeek","width","style","scale","range","setState","domain","startTime","endTime","UNSAFE_componentWillReceiveProps","newProps","step","_pause","_seek","componentWillUnmount","_renderMarker","marker","i","Component","styleProps","userStyle","time","content","x0","x1","markerStyle","position","_renderTimeline","tickSpacing","formatTick","markers","ticks","map","t","tickStyle","x","tick","tickLabel","label","_renderSlider","bufferRange","buffers","Array","isArray","slider","buffer","_renderPlayPauseButton","isPlaying","playPauseButton","_play","iconPause","iconPlay","_renderTimestamp","formatTimestamp","timestamp","render","theme","compact","className","wrapperStyle","sliderStyle","flexGrow","paddingLeft","paddingRight","wrapper","_onResize","controls","children","oneOfType","string","number","object","bool","isRequired","arrayOf","func","ThemedPlaybackControl"],"mappings":"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","sourcesContent":["import React, {PureComponent} from 'react';\nimport PropTypes from 'prop-types';\n\nimport AutoSizer from '../shared/autosizer';\nimport Slider from '../shared/slider';\nimport {getTimelineTicks, formatTimeCode} from './utils';\nimport {scaleLinear} from 'd3-scale';\n\nimport {withTheme} from '../shared/theme';\n\nimport {\n  WrapperComponent,\n  ControlsContainer,\n  PlayPauseButton,\n  Timestamp,\n  TicksContainer,\n  Tick,\n  TickLabel,\n  MarkersContainer,\n  MarkerComponent,\n  BufferComponent\n} from './styled-components.js';\nimport {PlayIcon, PauseIcon} from '../shared/icons';\n\nconst DEFAULT_PADDING = 24;\nconst COMPACT_CONTAINER_STYLE = {display: 'flex', alignItems: 'flex-end'};\n\nfunction noop() {}\n\nfunction normalizePadding(padding) {\n  padding = padding || 0;\n  if (Number.isFinite(padding)) {\n    return {right: padding, left: padding};\n  }\n  return Object.assign(\n    {\n      right: 0,\n      left: 0\n    },\n    padding\n  );\n}\n\n/*\n * @class\n */\nclass PlaybackControl extends PureComponent {\n  static propTypes = {\n    width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    style: PropTypes.object,\n    compact: PropTypes.bool,\n\n    currentTime: PropTypes.number.isRequired,\n    startTime: PropTypes.number,\n    endTime: PropTypes.number.isRequired,\n    isPlaying: PropTypes.bool.isRequired,\n    className: PropTypes.string,\n\n    // config\n    step: PropTypes.number,\n    tickSpacing: PropTypes.number,\n    bufferRange: PropTypes.arrayOf(PropTypes.object),\n    markers: PropTypes.arrayOf(PropTypes.object),\n\n    // callbacks\n    formatTick: PropTypes.func,\n    formatTimestamp: PropTypes.func,\n    onPlay: PropTypes.func,\n    onPause: PropTypes.func,\n    onSeek: PropTypes.func\n  };\n\n  static defaultProps = {\n    style: {},\n    compact: false,\n\n    className: '',\n    startTime: 0,\n    step: 0.1,\n    tickSpacing: 100,\n    formatTick: x => formatTimeCode(x, '{mm}:{ss}'),\n    formatTimestamp: x => formatTimeCode(x, '{mm}:{ss}.{S}'),\n    onPlay: noop,\n    onPause: noop,\n    onSeek: noop\n  };\n\n  constructor(props) {\n    super(props);\n    this.scale = scaleLinear().domain([props.startTime, props.endTime]);\n  }\n\n  UNSAFE_componentWillReceiveProps(newProps) {\n    const props = this.props;\n\n    if (\n      newProps.step !== props.step ||\n      newProps.startTime !== props.startTime ||\n      newProps.endTime !== props.endTime\n    ) {\n      // Video source has changed\n      // Kill any running animation to avoid callbacks in incorrect time range\n      this._pause();\n      // Update currentTime to make sure it is the start of the new range\n      this._seek(newProps.startTime);\n      this.scale.domain([newProps.startTime, newProps.endTime]);\n    }\n  }\n\n  componentWillUnmount() {\n    this._pause();\n  }\n\n  _play = () => {\n    this.props.onPlay();\n  };\n\n  _pause = () => {\n    this.props.onPause();\n  };\n\n  _seek = newTime => {\n    const {currentTime} = this.props;\n\n    if (newTime !== currentTime) {\n      this.props.onSeek(newTime);\n    }\n  };\n\n  _onResize = ({width}) => {\n    let {padding = 24} = this.props.style;\n    padding = normalizePadding(padding);\n    this.scale.range([0, width - padding.left - padding.right]);\n    // Trigger rerender\n    this.setState({width});\n  };\n\n  _renderMarker(marker, i, Component, styleProps, userStyle) {\n    const {scale} = this;\n    const {startTime = marker.time, endTime = marker.time, style, content} = marker;\n    const x0 = scale(startTime);\n    const x1 = scale(endTime);\n\n    const markerStyle = {\n      ...style,\n      position: 'absolute',\n      left: x0,\n      width: x1 - x0\n    };\n\n    return (\n      <Component key={i} {...styleProps} style={markerStyle} userStyle={userStyle}>\n        {content}\n      </Component>\n    );\n  }\n\n  _renderTimeline(styleProps) {\n    const {style, tickSpacing, formatTick, markers} = this.props;\n    const {scale} = this;\n    const ticks = getTimelineTicks(scale, tickSpacing, formatTick);\n\n    return (\n      <div>\n        <TicksContainer {...styleProps} userStyle={style.ticks}>\n          {ticks.map((t, i) => {\n            const tickStyle = {\n              position: 'absolute',\n              left: t.x\n            };\n            return (\n              <Tick key={i} {...styleProps} userStyle={style.tick} style={tickStyle}>\n                <TickLabel {...styleProps} userStyle={style.tickLabel}>\n                  {t.label}\n                </TickLabel>\n              </Tick>\n            );\n          })}\n        </TicksContainer>\n\n        {markers && (\n          <MarkersContainer {...styleProps} userStyle={style.markers}>\n            {markers.map((marker, i) =>\n              this._renderMarker(marker, i, MarkerComponent, styleProps, style.marker)\n            )}\n          </MarkersContainer>\n        )}\n      </div>\n    );\n  }\n\n  _renderSlider(styleProps) {\n    const {style, currentTime, startTime, endTime, step, bufferRange = []} = this.props;\n\n    const buffers = Array.isArray(bufferRange) ? bufferRange : [bufferRange];\n\n    return (\n      <Slider\n        style={style.slider}\n        value={currentTime}\n        onChange={this._seek}\n        knobSize={18}\n        step={step}\n        min={startTime}\n        max={endTime}\n      >\n        {buffers.map((range, i) =>\n          this._renderMarker(range, i, BufferComponent, styleProps, style.buffer)\n        )}\n      </Slider>\n    );\n  }\n\n  _renderPlayPauseButton(styleProps) {\n    const {isPlaying, style} = this.props;\n\n    return (\n      <PlayPauseButton\n        {...styleProps}\n        userStyle={style.playPauseButton}\n        onClick={isPlaying ? this._pause : this._play}\n      >\n        {isPlaying ? style.iconPause || <PauseIcon /> : style.iconPlay || <PlayIcon />}\n      </PlayPauseButton>\n    );\n  }\n\n  _renderTimestamp(styleProps) {\n    const {style, currentTime, formatTimestamp} = this.props;\n    return (\n      <Timestamp {...styleProps} userStyle={style.timestamp}>\n        {formatTimestamp(currentTime)}\n      </Timestamp>\n    );\n  }\n\n  render() {\n    const {theme, compact, width, style, className, isPlaying} = this.props;\n\n    let {padding = DEFAULT_PADDING} = style;\n    padding = normalizePadding(padding);\n\n    const styleProps = {\n      theme,\n      compact,\n      isPlaying\n    };\n\n    const wrapperStyle = {width};\n\n    if (compact) {\n      const sliderStyle = {\n        flexGrow: 1,\n        paddingLeft: padding.left,\n        paddingRight: padding.right\n      };\n\n      return (\n        <WrapperComponent\n          className={className}\n          {...styleProps}\n          userStyle={style.wrapper}\n          style={wrapperStyle}\n        >\n          <div style={COMPACT_CONTAINER_STYLE}>\n            {this._renderPlayPauseButton(styleProps)}\n            <div style={sliderStyle}>\n              <AutoSizer disableHeight={true} onResize={this._onResize} />\n              {this._renderTimeline(styleProps)}\n              {this._renderSlider(styleProps)}\n            </div>\n            {this._renderTimestamp(styleProps)}\n          </div>\n\n          <ControlsContainer {...styleProps} userStyle={style.controls}>\n            {this.props.children}\n          </ControlsContainer>\n        </WrapperComponent>\n      );\n    }\n\n    Object.assign(wrapperStyle, {\n      paddingLeft: padding.left,\n      paddingRight: padding.right\n    });\n\n    return (\n      <WrapperComponent\n        className={className}\n        {...styleProps}\n        userStyle={style.wrapper}\n        style={wrapperStyle}\n      >\n        <AutoSizer disableHeight={true} onResize={this._onResize} />\n        {this._renderTimeline(styleProps)}\n        {this._renderSlider(styleProps)}\n\n        <ControlsContainer {...styleProps} userStyle={style.controls}>\n          {this._renderPlayPauseButton(styleProps)}\n          {this._renderTimestamp(styleProps)}\n          {this.props.children}\n        </ControlsContainer>\n      </WrapperComponent>\n    );\n  }\n}\n\nconst ThemedPlaybackControl = withTheme(PlaybackControl);\nThemedPlaybackControl.formatTimeCode = formatTimeCode;\n\nexport default ThemedPlaybackControl;\n"],"file":"index.js"}